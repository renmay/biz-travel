webpackJsonp([1],{"+P/b":function(e,t,s){var a=s("bzE+");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("8bSs")("b0e492dc",a,!0)},"4OZ1":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("HzJ8"),o=s.n(a),r=s("aA9S"),l=s.n(r),i=s("vLgD"),n="/custom/order";var m="/product/custom";function c(e){return Object(i.a)({url:m+"/get",method:"get",params:e})}var u=s("5aCZ"),d=s("FvCG"),p=s("IcnI"),b=s("TIfe"),v={components:{Tinymce:u.a,singleImage:d.a},data:function(){return{cancelId:"",currentUser:Object(b.c)(),currentCustomOrderId:"",store:p.a,total:0,list:null,customerList:null,listLoading:!0,customDialog:!1,needsDialog:!1,customNeedsDialog:!1,distributionDialog:!1,customDetailDialog:!1,cancelDialog:!1,dialogStatus:"",textMap:{update:"修改定制",create:"定制"},listQuery:{pageNo:1},distributionListQuery:{pageNo:1},customForm:{name:"",isSupportDeposit:!0,category:"1",type:"1"},distributionForm:{},needsForm:{},customNeedsForm:{},statusOptions:[{value:"1",label:"待分配"},{value:"2",label:"待定制"},{value:"3",label:"待支付"},{value:"4",label:"已完成"},{value:"5",label:"已取消"}],customRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,message:"长度至少2个字符",trigger:"blur"}],marketPrice:[{required:!0,message:"请输入市场价",trigger:"blur"}],fixPrice:[{required:!0,message:"请输入成人价",trigger:"blur"}],childPrice:[{required:!0,message:"请输入儿童价",trigger:"blur"}],isSupportDeposit:[{required:!0,message:"請至少选择一种支付方式",trigger:"change"}],deposit:[{required:!0,message:"请输入定金",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],category:[{required:!0,message:"请选择分类",trigger:"blur"}],intro:[{required:!0,message:"请填写行程安排",trigger:"blur"}],specDetailDescription:[{required:!0,message:"请填写费用说明",trigger:"blur"}],afterSaleService:[{required:!0,message:"请填写预定须知",trigger:"blur"}]}}},filters:{statusFilter:function(e){return{1:"待分配",2:"待定制",3:"待支付",4:"已完成",5:"已取消"}[e]},typeFilter:function(e){return{1:"高端",2:"精选"}[e]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e,t=this;this.listLoading=!0,(e=this.listQuery,Object(i.a)({url:n+"/list",method:"get",params:e})).then(function(e){t.list=e.data.list;for(var s=0;s<t.list.length;s++)t.list[s].departureTime=t.list[s].departureTime.substring(0,10);t.total=e.data.totalCount,t.listLoading=!1})},resetTemp:function(){this.customForm={}},handleCreate:function(e){var t=this;console.log(p.a.getters.imgUrl),this.resetTemp(),this.needsForm=e,this.customForm.customOrderId=e.id,this.dialogStatus="create",this.customDialog=!0,setTimeout(function(){t.$refs.intro.setContent(t.customForm.intro),t.$refs.specDetailDescription.setContent(t.customForm.specDetailDescription),t.$refs.afterSaleService.setContent(t.customForm.afterSaleService)},0),this.resetImage()},custom:function(){var e=this;this.$refs.customForm.validate(function(t){var s;t&&(e.customDialog=!0,(s=e.customForm,Object(i.a)({url:m+"/add",method:"post",data:new URLSearchParams(s)})).then(function(t){e.customDialog=!1,e.$notify({title:"成功",message:"定制成功",type:"success",duration:2e3}),e.fetchData()}))})},imageSuccessCBK:function(e){console.log("图片组件传过来的url"),console.log(e),this.customForm.url=e},resetImage:function(){var e=this;setTimeout(function(){e.$refs.singleImageUpload.setUrl(e.customForm.url)},0)},handleUpdate:function(e){var t=this;c({customOrderId:e.id}).then(function(s){var a=s.data;t.needsForm=e,t.customNeedsForm=e;var o=l()({},a);t.dialogStatus="update",t.customForm.id=o.id,t.customForm.name=o.name,t.customForm.intro=o.intro,t.customForm.specDetailDescription=o.specDetailDescription,t.customForm.marketPrice=o.marketPrice,t.customForm.fixPrice=o.fixPrice,t.customForm.childPrice=o.childPrice,t.customForm.isSupportDeposit=o.isSupportDeposit,t.customForm.deposit=o.deposit,t.customForm.afterSaleService=o.afterSaleService,setTimeout(function(){t.$refs.intro.setContent(t.customForm.intro),t.$refs.specDetailDescription.setContent(t.customForm.specDetailDescription),t.$refs.afterSaleService.setContent(t.customForm.afterSaleService)},0),t.customDialog=!0,t.travelDialog=!0,t.customForm.url=p.a.getters.imgUrl+o.url,console.log(t.customForm.url),t.resetImage()})},edit:function(){var e,t=this,s=l()({},this.customForm);(e=s,Object(i.a)({url:m+"/edit",method:"post",data:new URLSearchParams(e)})).then(function(){var e=!0,s=!1,a=void 0;try{for(var r,l=o()(t.list);!(e=(r=l.next()).done);e=!0){var i=r.value;if(i.id===t.customForm.id){var n=t.list.indexOf(i);t.list.splice(n,1,t.customForm);break}}}catch(e){s=!0,a=e}finally{try{!e&&l.return&&l.return()}finally{if(s)throw a}}t.customDialog=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})},viewDetail:function(e){var t=this;c({customOrderId:e.id}).then(function(s){var a=s.data;t.customForm=a,t.needsForm=e,t.customNeedsForm=e}),this.customForm=l()({},e),this.dialogStatus="update",this.customDetailDialog=!0,this.customForm.url=p.a.getters.imgUrl+e.url},handleDistribution:function(e){var t,s=this;this.currentCustomOrderId=e.id,this.distributionDialog=!0,this.listLoading=!0,(t=this.distributionListQuery,Object(i.a)({url:"/merchant/manager/list",method:"get",params:t})).then(function(e){s.customerList=e.data.list,s.total=e.data.totalCount,s.listLoading=!1})},distribution:function(e){var t,s=this,a={customerId:e.merchantId,id:this.currentCustomOrderId};(t=a,Object(i.a)({url:n+"/distribution",method:"post",data:new URLSearchParams(t)})).then(function(e){s.distributionDialog=!1,s.fetchData()})},handleFilter:function(){this.fetchData()},resetFilter:function(){location.reload()},handleCurrentChange:function(e){this.listQuery.pageNo=e,this.fetchData()},distributionHandleCurrentChange:function(e){this.distributionListQuery.pageNo=e,this.fetchData()},viewNeeds:function(e){this.needsDialog=!0,this.needsForm=e},viewCustomNeeds:function(e){this.customNeedsDialog=!0,this.customNeedsForm=e},handleCancel:function(e){this.cancelDialog=!0,this.cancelId=e.id},cancel:function(){var e,t=this;(e=this.cancelId,Object(i.a)({url:n+"/cancel",method:"post",data:new URLSearchParams({id:e})})).then(function(){t.$notify({title:"成功",message:"取消成功",type:"success",duration:2e3}),t.fetchData()}).catch(function(e){t.$notify({title:"失败",message:"取消失败"+e.message,type:"failure",duration:1e3})}),this.fetchData(),this.cancelDialog=!1}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"filter-container",staticStyle:{"padding-bottom":"20px"}},[s("el-select",{staticClass:"filter-item",attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusOptions,function(e){return s("el-option",{attrs:{label:e.label,value:e.value}})})),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入需求单号",filterable:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.id,callback:function(t){e.$set(e.listQuery,"id",t)},expression:"listQuery.id"}}),e._v(" "),s("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入客户姓名",filterable:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.contactName,callback:function(t){e.$set(e.listQuery,"contactName",t)},expression:"listQuery.contactName"}}),e._v(" "),s("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),s("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.resetFilter}},[e._v("重置")])],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"需求单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),s("el-table-column",{attrs:{"class-name":"type-col",label:"需求类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(e._f("typeFilter")(t.row.type)))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"客户姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.contactName))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"客户电话",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.contactMobile))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"出发地",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.placeOfDeparture?s("span"):e._e(),s("span",[e._v(e._s(t.row.placeOfDeparture))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"目的地",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.destination?s("span"):e._e(),s("span",[e._v(e._s(t.row.destination))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"出发时间",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),s("span",[e._v(e._s(t.row.departureTime))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"出行天数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.numberOfDays))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"预算/人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.budget?s("span",[e._v("￥")]):e._e(),e._v(" "),s("span",[e._v(e._s(t.row.budget))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.createDate))])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",prop:"created_at",label:"需求详情",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.type,expression:"scope.row.type==1"}],attrs:{size:"mini",type:"success"},on:{click:function(s){e.viewNeeds(t.row)}}},[e._v("查看需求\n        ")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.row.type,expression:"scope.row.type==2"}],attrs:{size:"mini",type:"success"},on:{click:function(s){e.viewCustomNeeds(t.row)}}},[e._v("查看调整\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{"class-name":"status-col",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",[e._v(e._s(e._f("statusFilter")(t.row.status)))])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",prop:"created_at",label:"定制",width:"120%"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.row.status,expression:"scope.row.status==2"}],attrs:{type:"primary",size:"mini"},on:{click:function(s){e.handleCreate(t.row)}}},[e._v("定制\n        ")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:3==t.row.status,expression:"scope.row.status==3"}],attrs:{type:"primary",size:"mini"},on:{click:function(s){e.handleUpdate(t.row)}}},[e._v("编辑定制\n        ")]),e._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.status,expression:"scope.row.status==1"}],attrs:{type:"warning",size:"mini"},on:{click:function(s){e.handleDistribution(t.row)}}},[e._v("分配\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"定制师",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.customerName?s("el-tag",[e._v(e._s(t.row.customerName))]):s("el-tag",{attrs:{type:"info"}},[e._v("未分配")])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",prop:"created_at",label:"定制详情",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.status?s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(s){e.viewDetail(t.row)}}},[e._v("定制详情\n        ")]):s("el-tag",{attrs:{type:"info"}},[e._v("未定制\n        ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"160",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.status||2==t.row.status||3==t.row.status,expression:"scope.row.status==1||scope.row.status==2||scope.row.status==3"}],attrs:{size:"mini",type:"danger"},on:{click:function(s){e.handleCancel(t.row)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" 取消订单\n        ")]),e._v(" "),s("el-tag",{directives:[{name:"show",rawName:"v-show",value:5==t.row.status,expression:"scope.row.status==5"}],attrs:{type:"info"}},[e._v("已取消\n        ")]),e._v(" "),s("el-tag",{directives:[{name:"show",rawName:"v-show",value:4==t.row.status,expression:"scope.row.status==4"}],attrs:{type:"info"}},[e._v("已完成\n        ")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination-container",staticStyle:{"margin-top":"20px"}},[s("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.customDialog,width:"80%"},on:{"update:visible":function(t){e.customDialog=t}}},[s("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[s("el-col",{attrs:{span:10}},[s("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.needsForm.type,expression:"needsForm.type==1"}],staticStyle:{"background-color":"#eeeeef",padding:"6%","border-radius":"6px"},attrs:{model:e.needsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("需求参数")]),e._v(" "),s("el-form-item",{attrs:{label:"出发地: ",disabled:""}},[s("span",[e._v(e._s(e.needsForm.placeOfDeparture))])]),e._v(" "),s("el-form-item",{attrs:{label:"出发国家",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.placeOfDepartureNational)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"目的地",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.destination)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"目的国家",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.destinationNational)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("span",[e._v(" "+e._s(e.needsForm.departureTime)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"旅行天数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfDays)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"成人数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfAdults)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"儿童数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfKid)+" ")])]),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("服务要求")]),e._v(" "),s("el-form-item",{attrs:{label:"预算",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.budget)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"酒店要求",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.hotelMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"房型要求",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.roomMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"餐饮要求"}},[s("span",[e._v(" "+e._s(e.needsForm.cateringMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"服务要求"}},[s("span",[e._v(" "+e._s(e.needsForm.serviceMinimumStandard)+" ")])]),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("客户姓名")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.contactName)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"手机号",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.contactMobile)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("span",[e._v(" "+e._s(e.needsForm.remark)+" ")])])],1),e._v(" "),s("el-form",{directives:[{name:"show",rawName:"v-show",value:2==e.needsForm.type,expression:"needsForm.type==2"}],staticStyle:{"margin-left":"50px"},attrs:{model:e.customNeedsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("调整商品")]),e._v(" "),s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductName,callback:function(t){e.$set(e.customNeedsForm,"customProductName",t)},expression:"customNeedsForm.customProductName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"价格/人"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductFixPrice,callback:function(t){e.$set(e.customNeedsForm,"customProductFixPrice",t)},expression:"customNeedsForm.customProductFixPrice"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("调整项目")]),e._v(" "),s("el-form-item",{attrs:{label:"酒店要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.adjustedItems,callback:function(t){e.$set(e.customNeedsForm,"adjustedItems",t)},expression:"customNeedsForm.adjustedItems"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("出行信息")]),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.departureTime,callback:function(t){e.$set(e.customNeedsForm,"departureTime",t)},expression:"customNeedsForm.departureTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfAdults,callback:function(t){e.$set(e.customNeedsForm,"numberOfAdults",t)},expression:"customNeedsForm.numberOfAdults"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfKid,callback:function(t){e.$set(e.customNeedsForm,"numberOfKid",t)},expression:"customNeedsForm.numberOfKid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"预算"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.budget,callback:function(t){e.$set(e.customNeedsForm,"budget",t)},expression:"customNeedsForm.budget"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("联系人")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactName,callback:function(t){e.$set(e.customNeedsForm,"contactName",t)},expression:"customNeedsForm.contactName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactMobile,callback:function(t){e.$set(e.customNeedsForm,"contactMobile",t)},expression:"customNeedsForm.contactMobile"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("备注")]),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"article-textarea",attrs:{type:"textarea",rows:1,autosize:"",disabled:""},model:{value:e.customNeedsForm.remark,callback:function(t){e.$set(e.customNeedsForm,"remark",t)},expression:"customNeedsForm.remark"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:14}},[s("el-form",{ref:"customForm",staticStyle:{"margin-left":"50px"},attrs:{rules:e.customRules,model:e.customForm,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[s("el-input",{attrs:{maxlength:120},model:{value:e.customForm.name,callback:function(t){e.$set(e.customForm,"name",t)},expression:"customForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"产品图片"}},[s("singleImage",{ref:"singleImageUpload",on:{successCBK:e.imageSuccessCBK}}),e._v(" "),s("el-tip",[e._v("! 请务必上传定制产品图片")])],1),e._v(" "),s("el-form-item",{attrs:{label:"市场价",prop:"marketPrice"}},[s("el-input",{attrs:{type:"number"},model:{value:e.customForm.marketPrice,callback:function(t){e.$set(e.customForm,"marketPrice",t)},expression:"customForm.marketPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人价格",prop:"fixPrice"}},[s("el-input",{attrs:{type:"number"},model:{value:e.customForm.fixPrice,callback:function(t){e.$set(e.customForm,"fixPrice",t)},expression:"customForm.fixPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童价格",prop:"childPrice"}},[s("el-input",{attrs:{type:"number"},model:{value:e.customForm.childPrice,callback:function(t){e.$set(e.customForm,"childPrice",t)},expression:"customForm.childPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"支付方式",prop:"isSupportDeposit"}},[s("el-radio",{attrs:{label:!0},model:{value:e.customForm.isSupportDeposit,callback:function(t){e.$set(e.customForm,"isSupportDeposit",t)},expression:"customForm.isSupportDeposit"}},[e._v("付定金")]),e._v(" "),s("el-radio",{attrs:{label:!1},model:{value:e.customForm.isSupportDeposit,callback:function(t){e.$set(e.customForm,"isSupportDeposit",t)},expression:"customForm.isSupportDeposit"}},[e._v("付全额")])],1),e._v(" "),s("el-form-item",{attrs:{label:"定金",prop:"deposit"}},[s("el-input",{attrs:{type:"number"},model:{value:e.customForm.deposit,callback:function(t){e.$set(e.customForm,"deposit",t)},expression:"customForm.deposit"}})],1),e._v(" "),s("hr",{staticStyle:{margin:"16px 0 30px 0",color:"lightgray"}}),e._v(" "),s("el-form-item",{attrs:{label:"行程安排",prop:"intro"}},[s("tinymce",{ref:"intro",attrs:{height:300},model:{value:e.customForm.intro,callback:function(t){e.$set(e.customForm,"intro",t)},expression:"customForm.intro"}})],1),e._v(" "),s("hr",{staticStyle:{margin:"16px 0 30px 0",color:"lightgray"}}),e._v(" "),s("el-form-item",{attrs:{label:"费用说明",prop:"specDetailDescription"}},[s("tinymce",{ref:"specDetailDescription",attrs:{height:300},model:{value:e.customForm.specDetailDescription,callback:function(t){e.$set(e.customForm,"specDetailDescription",t)},expression:"customForm.specDetailDescription"}})],1),e._v(" "),s("hr",{staticStyle:{margin:"16px 0 30px 0",color:"lightgray"}}),e._v(" "),s("el-form-item",{attrs:{label:"预定须知",prop:"afterSaleService"}},[s("tinymce",{ref:"afterSaleService",attrs:{height:300},model:{value:e.customForm.afterSaleService,callback:function(t){e.$set(e.customForm,"afterSaleService",t)},expression:"customForm.afterSaleService"}})],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.customDialog=!1}}},[e._v("取消")]),e._v(" "),"create"==e.dialogStatus?s("el-button",{attrs:{type:"primary"},on:{click:e.custom}},[e._v("确定")]):s("el-button",{attrs:{type:"primary"},on:{click:e.edit}},[e._v("确定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.distributionDialog},on:{"update:visible":function(t){e.distributionDialog=t}}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.customerList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[s("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.$index+1)+"\n        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"定制师",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"定制师Id",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),s("el-table-column",{attrs:{align:"center",prop:"created_at",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){e.distribution(t.row)}}},[e._v("选择此定制师\n          ")])]}}])})],1),e._v(" "),s("div",{staticClass:"pagination-container",staticStyle:{"margin-top":"20px"}},[s("el-pagination",{attrs:{background:"","current-page":e.distributionListQuery.page,"page-sizes":[10,20,30,50],"page-size":e.distributionListQuery.limit,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.distributionHandleCurrentChange}})],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.needsDialog,width:"70%"},on:{"update:visible":function(t){e.needsDialog=t}}},[s("el-form",{staticStyle:{"margin-left":"50px"},attrs:{model:e.needsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("需求参数")]),e._v(" "),s("el-form-item",{attrs:{label:"出发地"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.placeOfDeparture,callback:function(t){e.$set(e.needsForm,"placeOfDeparture",t)},expression:"needsForm.placeOfDeparture"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"出发国家"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.placeOfDepartureNational,callback:function(t){e.$set(e.needsForm,"placeOfDepartureNational",t)},expression:"needsForm.placeOfDepartureNational"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"目的地"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.destination,callback:function(t){e.$set(e.needsForm,"destination",t)},expression:"needsForm.destination"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"目的国家"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.destinationNational,callback:function(t){e.$set(e.needsForm,"destinationNational",t)},expression:"needsForm.destinationNational"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.departureTime,callback:function(t){e.$set(e.needsForm,"departureTime",t)},expression:"needsForm.departureTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"旅行天数"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.needsForm.numberOfDays,callback:function(t){e.$set(e.needsForm,"numberOfDays",t)},expression:"needsForm.numberOfDays"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人数"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.needsForm.numberOfAdults,callback:function(t){e.$set(e.needsForm,"numberOfAdults",t)},expression:"needsForm.numberOfAdults"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童数"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.needsForm.numberOfKid,callback:function(t){e.$set(e.needsForm,"numberOfKid",t)},expression:"needsForm.numberOfKid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"预算"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.budget,callback:function(t){e.$set(e.needsForm,"budget",t)},expression:"needsForm.budget"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("要求")]),e._v(" "),s("el-form-item",{attrs:{label:"酒店要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.hotelMinimumStandard,callback:function(t){e.$set(e.needsForm,"hotelMinimumStandard",t)},expression:"needsForm.hotelMinimumStandard"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"房型要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.roomMinimumStandard,callback:function(t){e.$set(e.needsForm,"roomMinimumStandard",t)},expression:"needsForm.roomMinimumStandard"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"餐饮要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.cateringMinimumStandard,callback:function(t){e.$set(e.needsForm,"cateringMinimumStandard",t)},expression:"needsForm.cateringMinimumStandard"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"服务要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.serviceMinimumStandard,callback:function(t){e.$set(e.needsForm,"serviceMinimumStandard",t)},expression:"needsForm.serviceMinimumStandard"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("客户姓名")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.contactName,callback:function(t){e.$set(e.needsForm,"contactName",t)},expression:"needsForm.contactName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.contactMobile,callback:function(t){e.$set(e.needsForm,"contactMobile",t)},expression:"needsForm.contactMobile"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{attrs:{disabled:""},model:{value:e.needsForm.remark,callback:function(t){e.$set(e.needsForm,"remark",t)},expression:"needsForm.remark"}})],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.customNeedsDialog,width:"70%"},on:{"update:visible":function(t){e.customNeedsDialog=t}}},[s("el-form",{staticStyle:{"margin-left":"50px"},attrs:{model:e.customNeedsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("调整商品")]),e._v(" "),s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductName,callback:function(t){e.$set(e.customNeedsForm,"customProductName",t)},expression:"customNeedsForm.customProductName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"价格/人"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductFixPrice,callback:function(t){e.$set(e.customNeedsForm,"customProductFixPrice",t)},expression:"customNeedsForm.customProductFixPrice"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("调整项目")]),e._v(" "),s("el-form-item",{attrs:{label:"调整项目"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.adjustedItems,callback:function(t){e.$set(e.customNeedsForm,"adjustedItems",t)},expression:"customNeedsForm.adjustedItems"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("出行信息")]),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.departureTime,callback:function(t){e.$set(e.customNeedsForm,"departureTime",t)},expression:"customNeedsForm.departureTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfAdults,callback:function(t){e.$set(e.customNeedsForm,"numberOfAdults",t)},expression:"customNeedsForm.numberOfAdults"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfKid,callback:function(t){e.$set(e.customNeedsForm,"numberOfKid",t)},expression:"customNeedsForm.numberOfKid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"预算"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.budget,callback:function(t){e.$set(e.customNeedsForm,"budget",t)},expression:"customNeedsForm.budget"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("联系人")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactName,callback:function(t){e.$set(e.customNeedsForm,"contactName",t)},expression:"customNeedsForm.contactName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactMobile,callback:function(t){e.$set(e.customNeedsForm,"contactMobile",t)},expression:"customNeedsForm.contactMobile"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("备注")]),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"article-textarea",attrs:{type:"textarea",rows:1,autosize:"",disabled:""},model:{value:e.customNeedsForm.remark,callback:function(t){e.$set(e.customNeedsForm,"remark",t)},expression:"customNeedsForm.remark"}})],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"定制详情",visible:e.customDetailDialog,width:"80%"},on:{"update:visible":function(t){e.customDetailDialog=t}}},[s("el-row",{staticClass:"row-bg",attrs:{type:"flex"}},[s("el-col",{attrs:{span:10}},[s("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.needsForm.type,expression:"needsForm.type==1"}],staticStyle:{"background-color":"#eeeeef",padding:"6%","border-radius":"6px"},attrs:{model:e.needsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("需求参数")]),e._v(" "),s("el-form-item",{attrs:{label:"出发地: ",disabled:""}},[s("span",[e._v(e._s(e.needsForm.placeOfDeparture))])]),e._v(" "),s("el-form-item",{attrs:{label:"出发国家",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.placeOfDepartureNational)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"目的地",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.destination)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"目的国家",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.destinationNational)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("span",[e._v(" "+e._s(e.needsForm.departureTime)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"旅行天数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfDays)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"成人数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfAdults)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"儿童数"}},[s("span",[e._v(" "+e._s(e.needsForm.numberOfKid)+" ")])]),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("服务要求")]),e._v(" "),s("el-form-item",{attrs:{label:"预算",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.budget)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"酒店要求",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.hotelMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"房型要求",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.roomMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"餐饮要求"}},[s("span",[e._v(" "+e._s(e.needsForm.cateringMinimumStandard)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"服务要求"}},[s("span",[e._v(" "+e._s(e.needsForm.serviceMinimumStandard)+" ")])]),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("客户姓名")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.contactName)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"手机号",disabled:""}},[s("span",[e._v(" "+e._s(e.needsForm.contactMobile)+" ")])]),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("span",[e._v(" "+e._s(e.needsForm.remark)+" ")])])],1),e._v(" "),s("el-form",{directives:[{name:"show",rawName:"v-show",value:2==e.needsForm.type,expression:"needsForm.type==2"}],staticStyle:{"margin-left":"50px"},attrs:{model:e.customNeedsForm,"label-position":"left","label-width":"100px"}},[s("span",{staticClass:"detail-title"},[e._v("调整商品")]),e._v(" "),s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductName,callback:function(t){e.$set(e.customNeedsForm,"customProductName",t)},expression:"customNeedsForm.customProductName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人价"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductFixPrice,callback:function(t){e.$set(e.customNeedsForm,"customProductFixPrice",t)},expression:"customNeedsForm.customProductFixPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童价"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.customProductFixPrice,callback:function(t){e.$set(e.customNeedsForm,"customProductFixPrice",t)},expression:"customNeedsForm.customProductFixPrice"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("调整项目")]),e._v(" "),s("el-form-item",{attrs:{label:"酒店要求"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.adjustedItems,callback:function(t){e.$set(e.customNeedsForm,"adjustedItems",t)},expression:"customNeedsForm.adjustedItems"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("出行信息")]),e._v(" "),s("el-form-item",{attrs:{label:"出发时间"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.departureTime,callback:function(t){e.$set(e.customNeedsForm,"departureTime",t)},expression:"customNeedsForm.departureTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfAdults,callback:function(t){e.$set(e.customNeedsForm,"numberOfAdults",t)},expression:"customNeedsForm.numberOfAdults"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童人数"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.numberOfKid,callback:function(t){e.$set(e.customNeedsForm,"numberOfKid",t)},expression:"customNeedsForm.numberOfKid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"预算"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.budget,callback:function(t){e.$set(e.customNeedsForm,"budget",t)},expression:"customNeedsForm.budget"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("联系人")]),e._v(" "),s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactName,callback:function(t){e.$set(e.customNeedsForm,"contactName",t)},expression:"customNeedsForm.contactName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号码"}},[s("el-input",{attrs:{disabled:""},model:{value:e.customNeedsForm.contactMobile,callback:function(t){e.$set(e.customNeedsForm,"contactMobile",t)},expression:"customNeedsForm.contactMobile"}})],1),e._v(" "),s("span",{staticClass:"detail-title"},[e._v("备注")]),e._v(" "),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticClass:"article-textarea",attrs:{type:"textarea",rows:1,autosize:"",disabled:""},model:{value:e.customNeedsForm.remark,callback:function(t){e.$set(e.customNeedsForm,"remark",t)},expression:"customNeedsForm.remark"}})],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:14}},[s("el-form",{staticStyle:{"margin-left":"50px"},attrs:{model:e.customForm,"label-position":"left","label-width":"100px"}},[s("el-form-item",{attrs:{label:"商品名称"}},[s("el-input",{attrs:{maxlength:120,disabled:""},model:{value:e.customForm.name,callback:function(t){e.$set(e.customForm,"name",t)},expression:"customForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"市场价"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.customForm.marketPrice,callback:function(t){e.$set(e.customForm,"marketPrice",t)},expression:"customForm.marketPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成人价格"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.customForm.fixPrice,callback:function(t){e.$set(e.customForm,"fixPrice",t)},expression:"customForm.fixPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"儿童价格"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.customForm.childPrice,callback:function(t){e.$set(e.customForm,"childPrice",t)},expression:"customForm.childPrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"支付方式"}},[s("el-radio",{attrs:{label:!0,disabled:""},model:{value:e.customForm.isSupportDeposit,callback:function(t){e.$set(e.customForm,"isSupportDeposit",t)},expression:"customForm.isSupportDeposit"}},[e._v("付定金")]),e._v(" "),s("el-radio",{attrs:{label:!1,disabled:""},model:{value:e.customForm.isSupportDeposit,callback:function(t){e.$set(e.customForm,"isSupportDeposit",t)},expression:"customForm.isSupportDeposit"}},[e._v("付全额")])],1),e._v(" "),s("el-form-item",{attrs:{label:"定金"}},[s("el-input",{attrs:{type:"number",disabled:""},model:{value:e.customForm.deposit,callback:function(t){e.$set(e.customForm,"deposit",t)},expression:"customForm.deposit"}})],1),e._v(" "),s("hr",{staticStyle:{margin:"16px 0 30px 0",color:"lightgray"}}),e._v(" "),s("el-form-item",{attrs:{label:"行程安排"}},[s("div",{staticClass:"editor-content",staticStyle:{"padding-bottom":"60px",border:"1px solid lightgray"},domProps:{innerHTML:e._s(e.customForm.intro)}})]),e._v(" "),s("el-form-item",{attrs:{label:"费用说明"}},[s("div",{staticClass:"editor-content",staticStyle:{"padding-bottom":"60px",border:"1px solid lightgray"},domProps:{innerHTML:e._s(e.customForm.specDetailDescription)}})]),e._v(" "),s("el-form-item",{attrs:{label:"预定须知"}},[s("div",{staticClass:"editor-content",staticStyle:{"padding-bottom":"60px",border:"1px solid lightgray"},domProps:{innerHTML:e._s(e.customForm.afterSaleService)}})])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.customDetailDialog=!1}}},[e._v("返回")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"温馨提示",visible:e.cancelDialog,width:"28%",left:""},on:{"update:visible":function(t){e.cancelDialog=t}}},[s("span",[e._v("确定取消此订单？")]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.cancelDialog=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:e.cancel}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var _=s("/Xao")(v,f,!1,function(e){s("+P/b")},null,null);t.default=_.exports},FvCG:function(e,t,s){"use strict";var a=s("rVsN"),o=s.n(a),r=s("ZLEe"),l=s.n(r),i=s("IcnI"),n=s("uzBN"),m=s("2sCs"),c=s.n(m),u={name:"singleImageUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{url:"",shortUrl:"",store:i.a,ossUrl:i.a.getters.imgUrl}},mounted:function(){this.getConfig()},create:function(){this.getConfig()},methods:{setUrl:function(e){console.log(e),console.log("子组件被调用"),this.url=e},handleRemove:function(e){for(var t=e.uid,s=l()(this.listObj),a=0,o=s.length;a<o;a++)if(this.listObj[s[a]].uid===t)return void delete this.listObj[s[a]]},getConfig:function(){var e=this;Object(n.a)().then(function(t){e.uploadParams=t.data}).catch(function(e){console.log(e)})},beforeUpload:function(e,t){var s=this,a="image/jpeg"===e.type,r="image/gif"===e.type,l="image/png"===e.type,i="image/bmp"===e.type,n=e.size/1024/1024<2;a||r||l||i||this.common.errorTip("上传图片必须是JPG/GIF/PNG/BMP 格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!");var m=new FormData,u=this.uploadParams;m.append("key",u.dir+e.name),m.append("policy",u.policy),m.append("callback",u.callback),m.append("OSSAccessKeyId",u.accessid),m.append("callback",u.callback),m.append("success_action_status",201),m.append("signature",u.signature),m.append("file",e,e.name);var d="";c.a.post(this.ossUrl,m,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){var t=e.data.data.url.toString();return d=s.ossUrl+t,s.$emit("successCBK",t),new o.a(function(e,t){s.url=d,e(!0)})})}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"upload-container"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://httpbin432432432.org/post","show-file-list":!1,"before-upload":this.beforeUpload}},[this.url?t("img",{staticClass:"avatar",attrs:{src:this.url}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},staticRenderFns:[]};var p=s("/Xao")(u,d,!1,function(e){s("UKmR")},"data-v-9116db6e",null);t.a=p.exports},UKmR:function(e,t,s){var a=s("s0Ly");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("8bSs")("5708c554",a,!0)},"bzE+":function(e,t,s){(e.exports=s("BkJT")(!1)).push([e.i,"\n.detail-title {\n  font-size: 18px;\n  padding-bottom: 26px;\n  display: block;\n  font-weight: bold;\n  text-align: center;\n}\ninput:disabled {\n  color: #444 !important;\n}\ntextarea:disabled {\n  color: #444 !important;\n}\n",""])},s0Ly:function(e,t,s){(e.exports=s("BkJT")(!1)).push([e.i,"\n.upload-container .editor-slide-upload[data-v-9116db6e] {\n  margin-bottom: 20px;\n}\n.avatar-uploader[data-v-9116db6e] {\n  width: 178px;\n  height: 178px;\n  border: 1px dashed lightGray;\n}\n.avatar-uploader .el-upload[data-v-9116db6e] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-9116db6e]:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-9116db6e] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar[data-v-9116db6e] {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n",""])}});